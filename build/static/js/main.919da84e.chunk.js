(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(21),r=n.n(c),o=n(4),l=n(22),u=n(8),i=n(88),j=n(89),b=Object(a.createContext)(null),O=n(2),d=function(){var e=Object(a.useContext)(b).user;return Object(a.useEffect)((function(){}),[e]),Object(O.jsx)("div",{children:Object(O.jsxs)(i.a,{className:"nav",children:[Object(O.jsx)(i.a.Brand,{className:"nav-head",href:"/",children:"Keeper"}),e?Object(O.jsxs)(j.a,{className:"ml-auto",children:[Object(O.jsx)(j.a.Link,{className:"nav-item",href:"/profile",children:e.name}),Object(O.jsx)(j.a.Link,{className:"nav-item",onClick:function(){localStorage.removeItem("user")},href:"/",children:"Sign Out"})]}):Object(O.jsxs)(j.a,{className:"ml-auto",children:[Object(O.jsx)(j.a.Link,{className:"nav-item",href:"/signin",children:"Sign In"}),Object(O.jsx)(j.a.Link,{className:"nav-item",href:"/signup",children:"Sign Up"})]})]})})},m=n(6),x=n(28),h=n(25),p=n(26),f=function(e){var t=e.setNotes,n=Object(a.useState)({title:"",note:"",color:"white",label:"None",share:[]}),s=Object(o.a)(n,2),c=s[0],r=s[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),i=u[0],j=u[1];return Object(O.jsxs)("div",{className:"create-note",children:[Object(O.jsx)("input",{type:"text",placeholder:"Title",value:c.title,onClick:function(){!i&&j(!0)},onChange:function(e){return r((function(t){return Object(m.a)(Object(m.a)({},t),{},{title:e.target.value})}))}}),i&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("textarea",{type:"text",placeholder:"Take a note...",value:c.text,onChange:function(e){return r((function(t){return Object(m.a)(Object(m.a)({},t),{},{note:e.target.value})}))}}),Object(O.jsx)("button",{onClick:function(){""===c.title&&""===c.note||t((function(e){return[].concat(Object(x.a)(e),[c])})),r({title:"",note:"",color:"white",label:"None",share:[]}),j(!1)},children:""!==c.title||""!==c.note?Object(O.jsx)(h.a,{}):Object(O.jsx)(p.a,{})})]})]})},v=n(48),N=n(47),g=n(46),S=["#F5B7B1","#E8DAEF","#D6EAF8","#D1F2EB","#FAE5D3","#E5E8E8"],C=function(e){var t=e.note,n=e.noteIndex,a=e.setNotes;return Object(O.jsxs)("div",{className:"note-color",children:[Object(O.jsx)("h6",{className:"note-color-text",children:"Select Color"}),S.map((function(e,s){return Object(O.jsx)("div",{className:"note-color-circle",style:{backgroundColor:"".concat(e),border:"".concat(t.color===e?"2px solid black":"none")},onClick:function(){return function(e){var s=t.color===S[e]?"white":S[e];a((function(e){return e.map((function(e,t){return t===n?Object(m.a)(Object(m.a)({},e),{},{color:s}):e}))}))}(s)}},s)}))]})},w=n(45),y=function(e){var t=e.labels,n=e.setLabels,s=e.note,c=e.noteIndex,r=e.setNotes,l=Object(a.useState)(s.label),u=Object(o.a)(l,2),i=u[0],j=u[1],b=Object(a.useState)(""),d=Object(o.a)(b,2),h=d[0],p=d[1],f=function(e){var t=e.target.value;i!==t?j(t):"None"!==i&&j("None")};return Object(a.useEffect)((function(){r((function(e){return e.map((function(e,t){return t===c?Object(m.a)(Object(m.a)({},e),{},{label:i}):e}))}))}),[i]),Object(O.jsxs)("div",{className:"note-label",children:[Object(O.jsx)("h6",{className:"note-label-text",children:"Select Label"}),Object(O.jsx)("input",{className:"note-label-input",type:"text",value:h,maxLength:"10",onChange:function(e){return p(e.target.value)}}),Object(O.jsx)("button",{className:"note-label-button",onClick:function(){h&&n([].concat(Object(x.a)(t),[h]))},children:Object(O.jsx)(w.a,{})}),Object(O.jsx)("div",{className:"note-label-list",children:t.map((function(e,t){return Object(O.jsxs)("div",{className:"note-label-item",children:[Object(O.jsx)("input",{className:"note-label-item-input",type:"checkbox",value:e,checked:e===i,onChange:f}),Object(O.jsx)("label",{className:"note-label-item-text",children:e})]},t)}))})]})},k=function(e){var t=e.noteIndex,n=e.note,s=e.setNotes,c=e.setShowNote,r=e.deleteNote,l=e.labels,u=e.setLabels,i=Object(a.useState)(!1),j=Object(o.a)(i,2),b=j[0],d=j[1],m=Object(a.useState)(!1),x=Object(o.a)(m,2),p=x[0],f=x[1];return Object(O.jsxs)("div",{className:"note",style:{background:"".concat(n.color)},children:[Object(O.jsx)("div",{className:"note-text",onClick:function(){return c(t)},children:n.title||n.note?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"note-title",children:n.title}),Object(O.jsx)("div",{className:"note-note",children:n.note})]}):Object(O.jsx)("div",{className:"note-empty",children:"Empty note"})}),p&&Object(O.jsx)(y,{labels:l,setLabels:u,note:n,noteIndex:t,setNotes:s}),b&&Object(O.jsx)(C,{note:n,noteIndex:t,setNotes:s}),Object(O.jsx)("button",{className:"note-button-label",onClick:function(){return f(!p)},children:Object(O.jsx)(g.a,{})}),Object(O.jsx)("button",{className:"note-button-color",onClick:function(){return d(!b)},children:Object(O.jsx)(N.a,{})}),Object(O.jsx)("button",{className:"note-button-share",children:Object(O.jsx)(h.b,{})}),Object(O.jsx)("button",{className:"note-button-delete",onClick:function(){return r(t)},children:Object(O.jsx)(v.a,{})})]})},E=function(e){var t=e.index,n=e.notes,s=e.setNotes,c=e.setShowNote,r=Object(a.useState)(n[t]),l=Object(o.a)(r,2),u=l[0],i=l[1];return Object(O.jsxs)("div",{className:"show-note",children:[Object(O.jsx)("button",{className:"show-note-button-cancel",onClick:function(){return c(-1)},children:Object(O.jsx)(p.a,{})}),Object(O.jsx)("input",{type:"text",value:u.title,className:"show-note-input",onChange:function(e){return i(Object(m.a)(Object(m.a)({},u),{},{title:e.target.value}))}}),Object(O.jsx)("textarea",{type:"text",value:u.note,className:"show-note-textarea",onChange:function(e){return i(Object(m.a)(Object(m.a)({},u),{},{note:e.target.value}))}}),Object(O.jsx)("button",{className:"show-note-button-save",onClick:function(){s((function(e){return e.map((function(e,n){return n===t?u:e}))})),c(-1)},children:"Save"})]})},I=n(18),D=n.n(I),F=function(){return Object(O.jsx)("div",{className:"welcome",children:Object(O.jsx)("h1",{children:"WELCOME TO KEEPER"})})},L=function(){var e,t=Object(a.useContext)(b),n=t.user,s=t.setUser,c=JSON.parse(localStorage.getItem("user")),r=[];null!==c&&(r=c.notes,e=c.labels);var l=Object(a.useState)(r),u=Object(o.a)(l,2),i=u[0],j=u[1],d=Object(a.useState)(e),m=Object(o.a)(d,2),x=m[0],h=m[1],p=Object(a.useState)(-1),v=Object(o.a)(p,2),N=v[0],g=v[1],S=function(e){j((function(t){return t.filter((function(t,n){return n!==e}))}))};return Object(a.useEffect)((function(){if(null!==n&&n.notes!==i){var e={_id:n._id,notes:i,labels:x};D.a.put("/user",e,{headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;s(t.userData),localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(t.userData))}))}}),[i,x]),Object(O.jsx)(O.Fragment,{children:n?-1===N?Object(O.jsxs)("div",{children:[Object(O.jsx)(f,{setNotes:j}),Object(O.jsx)("div",{children:i.map((function(e,t){return Object(O.jsx)(k,{noteIndex:t,note:e,setNotes:j,setShowNote:g,deleteNote:S,labels:x,setLabels:h},t)}))})]}):Object(O.jsx)(E,{index:N,notes:i,setNotes:j,setShowNote:g}):Object(O.jsx)(F,{})})},P=function(e){var t=e.message,n=e.handleClick;return Object(O.jsxs)("div",{className:"message",children:[Object(O.jsx)("h1",{className:"message-text",children:t}),Object(O.jsx)("button",{className:"message-button",onClick:n,children:"OK"})]})},J=function(){var e=Object(u.e)();null!==JSON.parse(localStorage.getItem("user"))&&e.push("/");var t=Object(a.useContext)(b).setUser,n=Object(a.useState)(""),s=Object(o.a)(n,2),c=s[0],r=s[1],l=Object(a.useState)(""),i=Object(o.a)(l,2),j=i[0],d=i[1],m=Object(a.useState)(null),x=Object(o.a)(m,2),h=x[0],p=x[1];return Object(O.jsx)(O.Fragment,{children:h?Object(O.jsx)(P,{message:h,handleClick:function(){"Signed in successfully"===h?e.push("/"):p(null)}}):Object(O.jsxs)("div",{className:"form-box",children:[Object(O.jsxs)("div",{className:"form-box2",children:[Object(O.jsx)("input",{className:"form-input",type:"text",placeholder:"Enter username",value:c,onChange:function(e){return r(e.target.value)},required:!0}),Object(O.jsx)("input",{className:"form-input",type:"password",placeholder:"Enter password",value:j,onChange:function(e){return d(e.target.value)},required:!0})]}),Object(O.jsx)("button",{className:"form-button",onClick:function(){D.a.post("/signin",{username:c,password:j},{headers:{"Content-Type":"application/json"}}).then((function(e){var n=e.data;p(n.message),"Signed in successfully"===n.message&&(t(n.userData),localStorage.setItem("user",JSON.stringify(n.userData)))}))},children:"SIGN IN"})]})})},U=function(){var e=Object(u.e)();null!==JSON.parse(localStorage.getItem("user"))&&e.push("/");var t=Object(a.useContext)(b).setUser,n=Object(a.useState)({name:"",username:"",password:"",confirmPassword:""}),s=Object(o.a)(n,2),c=s[0],r=s[1],l=Object(a.useState)(null),i=Object(o.a)(l,2),j=i[0],d=i[1];return Object(O.jsx)(O.Fragment,{children:j?Object(O.jsx)(P,{message:j,handleClick:function(){"Signed up successfully"===j?e.push("/"):d(null)}}):Object(O.jsxs)("div",{className:"form-box",children:[Object(O.jsxs)("div",{className:"form-box2",children:[Object(O.jsx)("input",{className:"form-input",type:"text",placeholder:"Enter name",value:c.name,onChange:function(e){return r((function(t){return Object(m.a)(Object(m.a)({},t),{},{name:e.target.value})}))},required:!0}),Object(O.jsx)("input",{className:"form-input",type:"text",placeholder:"Enter username",value:c.username,onChange:function(e){return r((function(t){return Object(m.a)(Object(m.a)({},t),{},{username:e.target.value})}))},required:!0}),Object(O.jsx)("input",{className:"form-input",type:"password",placeholder:"Enter password",value:c.password,onChange:function(e){return r((function(t){return Object(m.a)(Object(m.a)({},t),{},{password:e.target.value})}))},required:!0}),Object(O.jsx)("input",{className:"form-input",type:"password",placeholder:"Confirm passowrd",value:c.confirmPassword,onChange:function(e){return r((function(t){return Object(m.a)(Object(m.a)({},t),{},{confirmPassword:e.target.value})}))},required:!0})]}),Object(O.jsx)("button",{className:"form-button",onClick:function(){c.password===c.confirmPassword?D.a.post("/user",c,{headers:{"Content-Type":"application/json"}}).then((function(e){var n=e.data;d(n.message),"Signed up successfully"===n.message&&(t(n.userData),localStorage.setItem("user",JSON.stringify(n.userData)))})):d("Passward doesn't match!")},children:"SIGN UP"})]})})},T=function(){var e=Object(a.useContext)(b),t=e.user,n=e.setUser,s=Object(u.e)();null===t&&s.push("/");var c=Object(a.useState)(t?t.name:""),r=Object(o.a)(c,2),l=r[0],i=r[1],j=Object(a.useState)(""),d=Object(o.a)(j,2),m=d[0],x=d[1],h=Object(a.useState)(""),p=Object(o.a)(h,2),f=p[0],v=p[1],N=Object(a.useState)(null),g=Object(o.a)(N,2),S=g[0],C=g[1];return Object(O.jsx)(O.Fragment,{children:S?Object(O.jsx)(P,{message:S,handleClick:function(){"Update successfully"===S&&s.push("/"),C(null),i(t?t.name:""),x(""),v("")}}):Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{className:"profile-button-back",onClick:function(){return s.push("/")},children:" Back "}),Object(O.jsxs)("div",{className:"profile",children:[Object(O.jsxs)("div",{className:"profile-box",children:[Object(O.jsx)("label",{className:"profile-label",children:"Username"}),Object(O.jsx)("input",{className:"profile-input",type:"text",value:null!==t?t.username:"",readOnly:!0}),Object(O.jsx)("label",{className:"profile-label",children:"Name"}),Object(O.jsx)("input",{className:"profile-input",type:"text",value:l,onChange:function(e){return i(e.target.value)}}),Object(O.jsx)("label",{className:"profile-label",children:"Password"}),Object(O.jsx)("input",{className:"profile-input",type:"password",value:m,onChange:function(e){return x(e.target.value)}}),Object(O.jsx)("label",{className:"profile-label",children:"Confirm Password"}),Object(O.jsx)("input",{className:"profile-input",type:"password",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(O.jsx)("button",{className:"profile-button-save",onClick:function(){if(m!==f)C("Password doesn't match");else{var e=t._id;D.a.put("/user",{_id:e,name:l,password:m},{headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;C(t.message),"Update successfully"===t.message&&(n(t.userData),localStorage.setItem("user",JSON.stringify(t.userData)))}))}},children:"Save"})]})]})})};var q=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(a.useState)(e),n=Object(o.a)(t,2),s=n[0],c=n[1];return Object(O.jsx)(l.a,{children:Object(O.jsxs)(b.Provider,{value:{user:s,setUser:c},children:[Object(O.jsx)(d,{}),Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(u.a,{path:"/",component:L,exact:!0}),Object(O.jsx)(u.a,{path:"/signin",component:J}),Object(O.jsx)(u.a,{path:"/signup",component:U}),Object(O.jsx)(u.a,{path:"/profile",component:T})]})]})})};n(84);r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(q,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.919da84e.chunk.js.map