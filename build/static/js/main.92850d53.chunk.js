(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),c=n(32),r=n.n(c),o=n(3),l=n(13),u=n(5),i=Object(a.createContext)(null),j=n(1),b=function(){var e=Object(a.useContext)(i).user,t=Object(a.useState)(!1),n=Object(o.a)(t,2),s=n[0],c=n[1];return Object(a.useEffect)((function(){}),[e]),Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("a",{className:"header-title",href:"/",children:"Keeperly"}),e&&Object(j.jsxs)("div",{className:"header-profile",onClick:function(){return c(!s)},children:[Object(j.jsx)("span",{children:e.name}),Object(j.jsx)("img",{src:"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/df/df7789f313571604c0e4fb82154f7ee93d9989c6.jpg",alt:"User avatar"})]}),s&&Object(j.jsx)("div",{className:"header-profile-dropdown",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{className:"header-profile-dropdown-li",children:Object(j.jsx)("a",{href:"/profile",children:"Profile"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{className:"header-profile-dropdown-button",onClick:function(){localStorage.removeItem("user")},href:"/",children:"Sign out"})})]})})]})},d=n(4),O=n(19),m=n(17),h=n(18),p=function(e){var t=e.setNotes,n=Object(a.useState)({title:"",note:"",color:"white",label:"None",share:[]}),s=Object(o.a)(n,2),c=s[0],r=s[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),i=u[0],b=u[1];return Object(j.jsxs)("div",{className:"create-note",children:[Object(j.jsx)("input",{type:"text",placeholder:"Title",value:c.title,onClick:function(){!i&&b(!0)},onChange:function(e){return r((function(t){return Object(d.a)(Object(d.a)({},t),{},{title:e.target.value})}))}}),i&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("textarea",{type:"text",placeholder:"Take a note...",value:c.text,onChange:function(e){return r((function(t){return Object(d.a)(Object(d.a)({},t),{},{note:e.target.value})}))}}),Object(j.jsx)("button",{onClick:function(){""===c.title&&""===c.note||t((function(e){return[].concat(Object(O.a)(e),[c])})),r({title:"",note:"",color:"white",label:"None",share:[]}),b(!1)},children:""!==c.title||""!==c.note?Object(j.jsx)(m.a,{}):Object(j.jsx)(h.a,{})})]})]})},x=n(36),f=n(35),v=n(34),N=["#F5B7B1","#E8DAEF","#D6EAF8","#D1F2EB","#FAE5D3","#E5E8E8"],g=function(e){var t=e.note,n=e.noteIndex,a=e.setNotes;return Object(j.jsxs)("div",{className:"note-color",children:[Object(j.jsx)("h6",{className:"note-color-text",children:"Select Color"}),N.map((function(e,s){return Object(j.jsx)("div",{className:"note-color-circle",style:{backgroundColor:"".concat(e),border:"".concat(t.color===e?"2px solid black":"none")},onClick:function(){return function(e){var s=t.color===N[e]?"white":N[e];a((function(e){return e.map((function(e,t){return t===n?Object(d.a)(Object(d.a)({},e),{},{color:s}):e}))}))}(s)}},s)}))]})},S=n(33),C=function(e){var t=e.labels,n=e.setLabels,s=e.note,c=e.noteIndex,r=e.setNotes,l=Object(a.useState)(s.label),u=Object(o.a)(l,2),i=u[0],b=u[1],m=Object(a.useState)(""),h=Object(o.a)(m,2),p=h[0],x=h[1],f=function(e){var t=e.target.value;i!==t?b(t):"None"!==i&&b("None")};return Object(a.useEffect)((function(){r((function(e){return e.map((function(e,t){return t===c?Object(d.a)(Object(d.a)({},e),{},{label:i}):e}))}))}),[i]),Object(j.jsxs)("div",{className:"note-label",children:[Object(j.jsx)("h6",{className:"note-label-text",children:"Select Label"}),Object(j.jsx)("input",{className:"note-label-input",type:"text",value:p,maxLength:"10",onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("button",{className:"note-label-button",onClick:function(){p&&n([].concat(Object(O.a)(t),[p]))},children:Object(j.jsx)(S.a,{})}),Object(j.jsx)("div",{className:"note-label-list",children:t.map((function(e,t){return Object(j.jsxs)("div",{className:"note-label-item",children:[Object(j.jsx)("input",{className:"note-label-item-input",type:"checkbox",value:e,checked:e===i,onChange:f}),Object(j.jsx)("label",{className:"note-label-item-text",children:e})]},t)}))})]})},w=function(e){var t=e.noteIndex,n=e.note,s=e.setNotes,c=e.setShowNote,r=e.deleteNote,l=e.labels,u=e.setLabels,i=Object(a.useState)(!1),b=Object(o.a)(i,2),d=b[0],O=b[1],h=Object(a.useState)(!1),p=Object(o.a)(h,2),N=p[0],S=p[1];return Object(j.jsxs)("div",{className:"note",style:{background:"".concat(n.color)},children:[Object(j.jsx)("div",{className:"note-text",onClick:function(){return c(t)},children:n.title||n.note?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"note-title",children:n.title}),Object(j.jsx)("div",{className:"note-note",children:n.note})]}):Object(j.jsx)("div",{className:"note-empty",children:"Empty note"})}),N&&Object(j.jsx)(C,{labels:l,setLabels:u,note:n,noteIndex:t,setNotes:s}),d&&Object(j.jsx)(g,{note:n,noteIndex:t,setNotes:s}),Object(j.jsx)("button",{className:"note-button-label",onClick:function(){return S(!N)},children:Object(j.jsx)(v.a,{})}),Object(j.jsx)("button",{className:"note-button-color",onClick:function(){return O(!d)},children:Object(j.jsx)(f.a,{})}),Object(j.jsx)("button",{className:"note-button-share",children:Object(j.jsx)(m.b,{})}),Object(j.jsx)("button",{className:"note-button-delete",onClick:function(){return r(t)},children:Object(j.jsx)(x.a,{})})]})},y=function(e){var t=e.index,n=e.notes,s=e.setNotes,c=e.setShowNote,r=Object(a.useState)(n[t]),l=Object(o.a)(r,2),u=l[0],i=l[1];return Object(j.jsxs)("div",{className:"show-note",children:[Object(j.jsx)("button",{className:"show-note-button-cancel",onClick:function(){return c(-1)},children:Object(j.jsx)(h.a,{})}),Object(j.jsx)("input",{type:"text",value:u.title,className:"show-note-input",onChange:function(e){return i(Object(d.a)(Object(d.a)({},u),{},{title:e.target.value}))}}),Object(j.jsx)("textarea",{type:"text",value:u.note,className:"show-note-textarea",onChange:function(e){return i(Object(d.a)(Object(d.a)({},u),{},{note:e.target.value}))}}),Object(j.jsx)("button",{className:"show-note-button-save",onClick:function(){s((function(e){return e.map((function(e,n){return n===t?u:e}))})),c(-1)},children:"Save"})]})},k=n(11),I=n.n(k),E=function(){return Object(j.jsxs)("div",{className:"welcome",children:[Object(j.jsx)("h1",{children:"Welcome To Keeperly"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("a",{href:"/signin",children:"Sign In"}),Object(j.jsx)("a",{href:"/signup",children:"Sign Up"})]})]})},D=function(){var e,t=Object(a.useContext)(i),n=t.user,s=t.setUser,c=JSON.parse(localStorage.getItem("user")),r=[];null!==c&&(r=c.notes,e=c.labels);var l=Object(a.useState)(r),u=Object(o.a)(l,2),b=u[0],d=u[1],O=Object(a.useState)(e),m=Object(o.a)(O,2),h=m[0],x=m[1],f=Object(a.useState)(-1),v=Object(o.a)(f,2),N=v[0],g=v[1],S=function(e){d((function(t){return t.filter((function(t,n){return n!==e}))}))};return Object(a.useEffect)((function(){if(null!==n&&n.notes!==b){var e={_id:n._id,notes:b,labels:h};I.a.put("/user",e,{headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;s(t.userData),localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(t.userData))}))}}),[b,h]),Object(j.jsx)(j.Fragment,{children:n?-1===N?Object(j.jsxs)("div",{children:[Object(j.jsx)(p,{setNotes:d}),Object(j.jsx)("div",{children:b.map((function(e,t){return Object(j.jsx)(w,{noteIndex:t,note:e,setNotes:d,setShowNote:g,deleteNote:S,labels:h,setLabels:x},t)}))})]}):Object(j.jsx)(y,{index:N,notes:b,setNotes:d,setShowNote:g}):Object(j.jsx)(E,{})})},F=function(e){var t=e.message,n=e.handleClick;return Object(j.jsxs)("div",{className:"message",children:[Object(j.jsx)("h1",{className:"message-text",children:t}),Object(j.jsx)("button",{className:"message-button",onClick:n,children:"OK"})]})},P=function(){var e=Object(u.e)();null!==JSON.parse(localStorage.getItem("user"))&&e.push("/");var t=Object(a.useContext)(i).setUser,n=Object(a.useState)(""),s=Object(o.a)(n,2),c=s[0],r=s[1],l=Object(a.useState)(""),b=Object(o.a)(l,2),d=b[0],O=b[1],m=Object(a.useState)(null),h=Object(o.a)(m,2),p=h[0],x=h[1];return Object(j.jsx)(j.Fragment,{children:p?Object(j.jsx)(F,{message:p,handleClick:function(){"Signed in successfully"===p?e.push("/"):x(null)}}):Object(j.jsxs)("div",{className:"form-box",children:[Object(j.jsxs)("div",{className:"form-box2",children:[Object(j.jsx)("input",{className:"form-input",type:"text",placeholder:"Enter username",value:c,onChange:function(e){return r(e.target.value)},required:!0}),Object(j.jsx)("input",{className:"form-input",type:"password",placeholder:"Enter password",value:d,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(j.jsx)("button",{className:"form-button",onClick:function(){I.a.post("/signin",{username:c,password:d},{headers:{"Content-Type":"application/json"}}).then((function(e){var n=e.data;x(n.message),"Signed in successfully"===n.message&&(t(n.userData),localStorage.setItem("user",JSON.stringify(n.userData)))}))},children:"SIGN IN"})]})})},U=function(){var e=Object(u.e)();null!==JSON.parse(localStorage.getItem("user"))&&e.push("/");var t=Object(a.useContext)(i).setUser,n=Object(a.useState)({name:"",username:"",password:"",confirmPassword:""}),s=Object(o.a)(n,2),c=s[0],r=s[1],l=Object(a.useState)(null),b=Object(o.a)(l,2),O=b[0],m=b[1];return Object(j.jsx)(j.Fragment,{children:O?Object(j.jsx)(F,{message:O,handleClick:function(){"Signed up successfully"===O?e.push("/"):m(null)}}):Object(j.jsxs)("div",{className:"form-box",children:[Object(j.jsx)("input",{className:"form-input",type:"text",placeholder:"Enter name",value:c.name,onChange:function(e){return r((function(t){return Object(d.a)(Object(d.a)({},t),{},{name:e.target.value})}))},required:!0}),Object(j.jsx)("input",{className:"form-input",type:"text",placeholder:"Enter username",value:c.username,onChange:function(e){return r((function(t){return Object(d.a)(Object(d.a)({},t),{},{username:e.target.value})}))},required:!0}),Object(j.jsx)("input",{className:"form-input",type:"password",placeholder:"Enter password",value:c.password,onChange:function(e){return r((function(t){return Object(d.a)(Object(d.a)({},t),{},{password:e.target.value})}))},required:!0}),Object(j.jsx)("input",{className:"form-input",type:"password",placeholder:"Confirm passowrd",value:c.confirmPassword,onChange:function(e){return r((function(t){return Object(d.a)(Object(d.a)({},t),{},{confirmPassword:e.target.value})}))},required:!0}),Object(j.jsx)("button",{className:"form-button",onClick:function(){c.password===c.confirmPassword?I.a.post("/user",c,{headers:{"Content-Type":"application/json"}}).then((function(e){var n=e.data;m(n.message),"Signed up successfully"===n.message&&(t(n.userData),localStorage.setItem("user",JSON.stringify(n.userData)))})):m("Passward doesn't match!")},children:"SIGN UP"})]})})},J=function(){var e=Object(a.useContext)(i),t=e.user,n=e.setUser,s=Object(u.e)();null===t&&s.push("/");var c=Object(a.useState)(t?t.name:""),r=Object(o.a)(c,2),l=r[0],b=r[1],d=Object(a.useState)(""),O=Object(o.a)(d,2),m=O[0],h=O[1],p=Object(a.useState)(""),x=Object(o.a)(p,2),f=x[0],v=x[1],N=Object(a.useState)(null),g=Object(o.a)(N,2),S=g[0],C=g[1];return Object(j.jsx)(j.Fragment,{children:S?Object(j.jsx)(F,{message:S,handleClick:function(){"Update successfully"===S&&s.push("/profile"),C(null),b(t?t.name:""),h(""),v("")}}):Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsx)("button",{className:"profile-button-back",onClick:function(){return s.push("/")},children:" Back "}),Object(j.jsx)("label",{className:"profile-label",children:"Username"}),Object(j.jsx)("input",{className:"profile-input",type:"text",value:null!==t?t.username:"",readOnly:!0}),Object(j.jsx)("label",{className:"profile-label",children:"Name"}),Object(j.jsx)("input",{className:"profile-input",type:"text",value:l,onChange:function(e){return b(e.target.value)}}),Object(j.jsx)("label",{className:"profile-label",children:"Password"}),Object(j.jsx)("input",{className:"profile-input",type:"password",value:m,onChange:function(e){return h(e.target.value)}}),Object(j.jsx)("label",{className:"profile-label",children:"Confirm Password"}),Object(j.jsx)("input",{className:"profile-input",type:"password",value:f,onChange:function(e){return v(e.target.value)}}),Object(j.jsx)("button",{className:"profile-button-save",onClick:function(){if(m!==f)C("Password doesn't match");else{var e=t._id;I.a.put("/user",{_id:e,name:l,password:m},{headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;C(t.message),"Update successfully"===t.message&&(n(t.userData),localStorage.setItem("user",JSON.stringify(t.userData)))}))}},children:"Save"})]})})})};var T=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(a.useState)(e),n=Object(o.a)(t,2),s=n[0],c=n[1];return Object(j.jsx)(l.a,{children:Object(j.jsxs)(i.Provider,{value:{user:s,setUser:c},children:[Object(j.jsx)(b,{}),Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(u.a,{path:"/",component:D,exact:!0}),Object(j.jsx)(u.a,{path:"/signin",component:P}),Object(j.jsx)(u.a,{path:"/signup",component:U}),Object(j.jsx)(u.a,{path:"/profile",component:J})]})]})})};n(69);r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.92850d53.chunk.js.map